var pageScrollTop,utils=window.utils||{};utils.lockBodyScroll=function(){var t=window.innerWidth-document.documentElement.clientWidth;window.pageYOffset&&(pageScrollTop=window.pageYOffset,$(".site-wrap").css({top:-pageScrollTop})),utils.isBodyScrollLocked=!0,$("body").css({position:"fixed"}),$("body").css("padding-right",t+"px"),$(".header").css("padding-right",t+"px")},utils.unlockBodyScroll=function(){$(" body").css({position:""}),$(".site-wrap").css({top:""}),$("body").css("padding-right",""),$(".header").css("padding-right",""),utils.isBodyScrollLocked&&window.scrollTo(0,pageScrollTop),window.setTimeout(function(){pageScrollTop=null},0),utils.isBodyScrollLocked=!1},utils.closeModal=function(t){utils.unlockBodyScroll(),t.hide(),$.event.trigger({type:"modal.closed",message:t.attr("id")})},utils.openModal=function(t){utils.lockBodyScroll(),t.show(),$.event.trigger({type:"modal.opened",message:t.attr("id")})},utils.disableFormBtn=function(t,i){t.prop("disabled",!0),i&&t.addClass("_loading")},utils.enableFormBtn=function(t){t.prop("disabled",!1).removeClass("_loading")},utils.isBodyScrollLocked=!1,$(function(){function a(t){return""+h+t}function r(t,i,s){var o=$('<div class="mobile-menu-step"/>').attr("data-level",s),e=$('<div class="mobile-menu-step__header"/>'),n=$('<div class="mobile-menu-step__body"/>'),a=i.$content.wrapAll('<ul class="mobile-menu-list" />').parent();return e.html(t),n.html(a),void 0!==i.categoryId&&o.attr("data-category-id",i.categoryId),void 0!==i.parentName&&o.attr("data-parent-name",i.parentName),i.category&&n.prepend('<div class="mobile-menu-step-category">'+i.category+"</div>"),o.append(e,n),o}function t(){n--;var t,i=$(".mobile-menu-step._visible"),s=i.attr("data-parent-name");t=0===n?$('.mobile-menu-step[data-level="0"]'):$('.mobile-menu-step[data-level="'+n+'"][data-parent-name="'+s+'"]'),i.addClass("_right").removeClass("_visible"),t.removeClass("_left").addClass("_visible")}function i(){$(".mobile-menu-step",".mobile-menu-modal").removeClass("_left _visible _right"),$("._highlight",".mobile-menu-modal").removeClass("_highlight");var t=$("a.active",".mobile-menu-modal").closest(".mobile-menu-step"),i=t.attr("data-category-id"),s=t.attr("data-parent-name");n=+t.attr("data-level"),t.addClass("_visible"),2===n?($('.mobile-menu-step[data-level="2"]:first').prevAll().addClass("_left"),$('.mobile-menu-step[data-level="2"]').addClass("_right"),$('.mobile-menu-step:not([data-parent-name="'+s+'"])').addClass("_right")):(t.prevAll().addClass("_left"),t.nextAll().addClass("_right"),$('.mobile-menu-step:not([data-parent-name="'+s+'"]):not([data-level="0"])').addClass("_right").removeClass("_left")),void 0!==i&&$('[data-category-id="'+i+'"]',".mobile-menu-modal").addClass("_highlight"),0!==n&&$('[data-level="0"]').find('._has-submenu a[data-parent-name="'+t.attr("data-parent-name")+'"]',".mobile-menu-modal").addClass("_highlight")}function s(){l||(l=!0,utils.unlockBodyScroll(),c.removeClass("_animate"),setTimeout(function(){$("body").removeClass("mobile-menu-opened"),l=!1,i()},320))}var o=$(".menu-modal"),e=$(".menu-modal-content");$(".menu-toggle").on("mouseenter",function(){window.innerWidth>=DESKTOP_MIN_WIDTH&&(o.addClass("_visible-menu"),$(this).addClass("_highlight"))}).on("mouseleave",function(t){window.innerWidth>=DESKTOP_MIN_WIDTH&&((t.relatedTarget||t.toElement)!==o[0]&&(o.removeClass("_visible-menu"),$(this).removeClass("_highlight")))}),e.on("mouseleave",function(){window.innerWidth>=DESKTOP_MIN_WIDTH&&(o.removeClass("_visible-menu"),$(".menu-toggle").removeClass("_highlight"))});var n=0,h=0;!function(){var t=$('<div class="mobile-menu-modal hidden-desktop"/>'),i=$('<div class="mobile-menu"/>'),s=$('<div class="mobile-menu-wrap"/>'),o=$('<span class="mobile-menu-modal__close"/>'),e=$(".header-btm-left-menu").clone();e.find(".hidden-desktop").first().addClass("_divider"),e.children("li").each(function(){var t=$(this).children("a");t.attr("data-parent-name",t.text());var i=$(this).children(".sub-menu");i.length&&i.remove()}),s.append(r('<a href="/" class="mobile-menu-logo" />',{$content:e.children()},0));var n="";$(".menu-category__title").each(function(t){n+='<li><span class="_has-submenu" data-category-id="'+a(t)+'" data-parent-name="Shop">'+$(this).text()+"</span></li>"}),s.append(r('<span class="mobile-menu-step-back">Main menu</span>',{category:"Shop",parentName:"Shop",$content:$(n)},1)),$(".menu-category:not(._special)").each(function(t){s.append(r('<span class="mobile-menu-step-back">Shop</span>',{category:$(this).find(".menu-category__title").text(),$content:$(this).find(".menu-list").children().not(":last").clone(),categoryId:a(t),parentName:"Shop"},2))}),h++,$(".menu-item-has-children").each(function(){s.append(r('<span class="mobile-menu-step-back">Main menu</span>',{category:$(this).children("a").text(),$content:$(this).find(".sub-menu").children().clone(),parentName:$(this).children("a").text()},1)),h++}),o.html('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 6L6 18" stroke="#1D3557" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 6L18 18" stroke="#1D3557" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg> '),s.append(o),t.append(i.append(s)),$("body").append(t)}(),$(document).on("click","._has-submenu",function(t){if(!(window.innerWidth>=DESKTOP_MIN_WIDTH)){t.preventDefault();var i=$(this);$(this).is("li")&&(i=$(this).children("a")),function(t){n++;var i,s=$(".mobile-menu-step._visible"),o=t.attr("data-parent-name"),e=t.attr("data-category-id");i=void 0!==e?$('.mobile-menu-step[data-category-id="'+e+'"][data-parent-name="'+o+'"]'):$('.mobile-menu-step[data-parent-name="'+o+'"]:not([data-category-id])'),s.addClass("_left").removeClass("_visible"),i.removeClass("_right").addClass("_visible")}(i)}}),$(document).on("click",".mobile-menu-step-back",t),i();var l=!1,c=$(".mobile-menu-modal");$(".header-btm-left-menu-toggle").on("click",function(){l||(utils.lockBodyScroll(),$("body").addClass("mobile-menu-opened"),setTimeout(function(){c.addClass("_animate")},10))}),c.on("click",function(t){t.target===c[0]&&s()}),$(document).on("click",".mobile-menu-modal__close",s)});var DESKTOP_MIN_WIDTH=1232,TABLET_MIN_WIDTH=768,actionsMap={add_review:"add_review"};$.fn.inputFilter=function(t){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",function(){t(this.value)?(this.oldValue=this.value.replace(/^0+/,""),this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd,this.value=this.value.replace(/^0+/,"")):this.hasOwnProperty("oldValue")?(this.value=this.oldValue.replace(/^0+/,""),this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})},$(function(){function i(){o||(o=!0,utils.unlockBodyScroll(),e.removeClass("_animate"),setTimeout(function(){$("body").removeClass("cart-panel-opened "+(n?"cart-sidebar-check-cart-view":"")),n=o=!1},320))}function s(){t.hasClass("_visible")&&(utils.unlockBodyScroll(),t.removeClass("_visible"))}$(".footer-top-menu-col__title").on("click",function(){if(!(window.innerWidth>DESKTOP_MIN_WIDTH)){var t=!1;if($(this).hasClass("_opened")&&(t=!0),$(".footer-top-menu-col__title").removeClass("_opened"),$(".footer-top-menu").removeAttr("style"),!t){$(this).addClass("_opened");var i=$(this).next(".footer-top-menu"),s=i.find("li"),o=0;s.each(function(){o+=$(this).outerHeight(!0)}),i.css("height",o)}}});var o=!1,e=$(".cart-panel-modal"),n=!1;$(".open-cart-panel").on("click",function(t){var i;t.preventDefault(),i=$(t.target).attr("data-check-cart-view"),n=i,o||(utils.lockBodyScroll(),$("body").addClass("cart-panel-opened "+(n?"cart-sidebar-check-cart-view":"")),setTimeout(function(){e.addClass("_animate")},10))}),e.on("click",function(t){t.target===e[0]&&i()}),$(document).on("click",".cart-panel-modal__close",i),$(document).on("click",".cart-panel-empty__link",function(t){"/"===document.location.pathname&&t.preventDefault(),i()}),$(".control-number input").inputFilter(function(t){return/^\d*$/.test(t)}),$(document).on("click",".control-number__btn",function(){var t=$(this).parent().find("input");$(this).hasClass("_inc")?t.val(parseInt(t.val())+1).trigger("change"):1<t.val()&&t.val(parseInt(t.val())-1).trigger("change")}),$(".open-modal").on("click",function(){utils.openModal($($(this).attr("data-modal")))}),$(".close-modal").on("click",function(){utils.closeModal($(this).closest(".modal"))});var t=$(".favorites-popover");$(".open-favorites-popover").on("click",function(){window.innerWidth<TABLET_MIN_WIDTH?utils.lockBodyScroll():utils.unlockBodyScroll(),t.toggleClass("_visible")}),$(document).on("click",".close-favorites-popover",s),$(document).on("click",function(t){$(t.target).closest($(".favorites-popover-menu-item")).length||s()}),$loginModalTitle=$("#login-modal-title"),$(".login-form__link").on("click",function(){var t=$(this).attr("data-form"),i=$('.login-form[data-form="'+t+'"]');$(".login-form").hide(),$loginModalTitle.text(i.attr("data-title")),i.show()}),$('.login-form__link[data-form="signin"]').trigger("click"),$(document).on("modal.closed",function(t){"login-modal"===t.message&&$('.login-form__link[data-form="signin"]').trigger("click")}),$(document).on("click","#login-modal",function(t){t.target===$(this)[0]&&utils.closeModal($(this))}),$(".accordion-item").on("click",function(){$(this).toggleClass("_opened").find(".accordion-item__body").stop(!0,!0).slideToggle()});var a=$(".header"),r=$(".header-top-section"),h=$(".menu-modal");$(window).on("load resize scroll",function(){if(!utils.isBodyScrollLocked){var t=$(window).scrollTop(),i=r.outerHeight(!0);0<t?i<t?(a.css("margin-top",-i),h.css("margin-top",-i)):(a.css("margin-top",-t),h.css("margin-top",-t)):0===t&&(a.css("margin-top",0),h.css("margin-top",0))}})}),$(function(){function s(){e.removeClass("_opened"),n.removeAttr("style")}function t(){window.innerWidth<TABLET_MIN_WIDTH&&r.hasClass("_search-opened")?r.find(".goods-search__inner").css("width",$(".goods-filters").outerWidth()):r.find(".goods-search__inner").removeAttr("style")}function i(){$(".goods-sort-by__dd").removeClass("_opened")}function o(){return h=l.slick(c)}var e=$(".goods-filters-categories"),n=e.find(".goods-filters-categories__list"),a=e.find(".goods-filters-categories__toggle");a.on("click",function(){if(!(window.innerWidth>DESKTOP_MIN_WIDTH))if(e.hasClass("_opened"))s();else{e.addClass("_opened");var t=n.find("li"),i=0;t.each(function(){i+=$(this).outerHeight(!0)}),n.css("height",i)}}),n.find("a").on("click",function(t){t.preventDefault(),s(),$(this).hasClass("active")||(n.find(".active").removeClass("active"),$(this).addClass("active"),a.text($(this).text()))}),$(document).on("click",function(t){$(t.target).closest(e).length||s()});var r=$(".goods-search");$(document).on("click",".goods-search__open",function(){r.addClass("_search-opened"),t()}),$(document).on("click",".goods-search__close",function(){r.removeClass("_search-opened"),t()}),$(window).on("load resize",t),$(document).on("click",function(t){$(t.target).closest(r).length||$(".goods-search__suggest").hide()}),$(document).on("input",".goods-search__input input",function(t){t.target.value&&""!==t.target.value.trim()?r.addClass("_search-has-value"):r.removeClass("_search-has-value")}),$(document).on("click",".goods-search__clear",function(){$(".goods-search__input input").val("").focus().trigger("input")}),$(document).on("click",".goods-sort-by__btn",function(){$(".goods-sort-by__dd").toggleClass("_opened")}),$(document).on("click",".goods-sort-by__dd-header .modal-header__close, .goods-sort-by__dd-overlay",i),$(document).on("click",function(t){window.innerWidth<TABLET_MIN_WIDTH||($(t.target).closest($(".goods-sort-by")).length||i())});var h,l=$(".special-tiles-slider");if(l.length){var c={arrows:!1,infinite:!1,adaptiveHeight:!0,mobileFirst:!0,responsive:[{breakpoint:1231,settings:"unslick"}]};h=o(),$(window).on("resize",function(){window.innerWidth<DESKTOP_MIN_WIDTH&&!h.hasClass("slick-initialized")&&o()})}}),function(i){"undefined"!=typeof jQuery&&jQuery||"function"!=typeof define||!define.amd?"undefined"!=typeof jQuery&&jQuery||"object"!=typeof exports?i(jQuery,document,window,navigator):i(require("jquery"),document,window,navigator):define(["jquery"],function(t){return i(t,document,window,navigator)})}(function(h,l,c,t,d){"use strict";function i(t,i,s){this.VERSION="2.3.1",this.input=t,this.plugin_count=s,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,i=i||{},this.$cache={win:h(c),body:h(l.body),input:h(t),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var o,e,n,a=this.$cache.input,r=a.prop("value");for(n in o={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==a[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",a[0]),(e={skin:a.data("skin"),type:a.data("type"),min:a.data("min"),max:a.data("max"),from:a.data("from"),to:a.data("to"),step:a.data("step"),min_interval:a.data("minInterval"),max_interval:a.data("maxInterval"),drag_interval:a.data("dragInterval"),values:a.data("values"),from_fixed:a.data("fromFixed"),from_min:a.data("fromMin"),from_max:a.data("fromMax"),from_shadow:a.data("fromShadow"),to_fixed:a.data("toFixed"),to_min:a.data("toMin"),to_max:a.data("toMax"),to_shadow:a.data("toShadow"),prettify_enabled:a.data("prettifyEnabled"),prettify_separator:a.data("prettifySeparator"),force_edges:a.data("forceEdges"),keyboard:a.data("keyboard"),grid:a.data("grid"),grid_margin:a.data("gridMargin"),grid_num:a.data("gridNum"),grid_snap:a.data("gridSnap"),hide_min_max:a.data("hideMinMax"),hide_from_to:a.data("hideFromTo"),prefix:a.data("prefix"),postfix:a.data("postfix"),max_postfix:a.data("maxPostfix"),decorate_both:a.data("decorateBoth"),values_separator:a.data("valuesSeparator"),input_values_separator:a.data("inputValuesSeparator"),disable:a.data("disable"),block:a.data("block"),extra_classes:a.data("extraClasses")}).values=e.values&&e.values.split(","),e)e.hasOwnProperty(n)&&(e[n]!==d&&""!==e[n]||delete e[n]);r!==d&&""!==r&&((r=r.split(e.input_values_separator||i.input_values_separator||";"))[0]&&r[0]==+r[0]&&(r[0]=+r[0]),r[1]&&r[1]==+r[1]&&(r[1]=+r[1]),i&&i.values&&i.values.length?(o.from=r[0]&&i.values.indexOf(r[0]),o.to=r[1]&&i.values.indexOf(r[1])):(o.from=r[0]&&+r[0],o.to=r[1]&&+r[1])),h.extend(o,i),h.extend(o,e),this.options=o,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()}var s,o,e=0,n=(o=/msie\s\d+/i,0<(s=t.userAgent).search(o)&&o.exec(s).toString().split(" ")[1]<9&&(h("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(o){var e=this,n=[].slice;if("function"!=typeof e)throw new TypeError;var a=n.call(arguments,1),r=function(){if(this instanceof r){var t=function(){};t.prototype=e.prototype;var i=new t,s=e.apply(i,a.concat(n.call(arguments)));return Object(s)===s?s:i}return e.apply(o,a.concat(n.call(arguments)))};return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,i){var s;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),e=o.length>>>0;if(0==e)return-1;var n=+i||0;if(Math.abs(n)===1/0&&(n=0),e<=n)return-1;for(s=Math.max(0<=n?n:e-Math.abs(n),0);s<e;){if(s in o&&o[s]===t)return s;s++}return-1}),i.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,i=this.options.max,s=this.options.from,o=this.options.to;t<s&&o===i?this.$cache.s_from.addClass("type_last"):o<i&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),n&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),n&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){var i,s;this.target||(i=(s="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,i+=s.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:i}))},pointerMove:function(t){if(this.dragging){var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=i-this.coords.x_gap,this.calc()}},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,n&&h("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(h.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===t&&this.setTempMinInterval(),t=t||this.target||"from",this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=s-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),n&&h("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(s-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,i){if(!(this.current_plugin!==this.plugin_count||i.altKey||i.ctrlKey||i.shiftKey||i.metaKey)){switch(i.which){case 83:case 65:case 40:case 37:i.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:i.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var i=this.coords.p_pointer,s=(this.options.max-this.options.min)/100;s=this.options.step/s,t?i+=s:i-=s,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*i),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),i=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=i,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(i,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,10!==this.calc_count&&!t||(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var i=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,i=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,i=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(i)),this.target){case"base":var s=(this.options.max-this.options.min)/100,o=(this.result.from-this.options.min)/s,e=(this.result.to-this.options.min)/s;this.coords.p_single_real=this.toFixed(o),this.coords.p_from_real=this.toFixed(o),this.coords.p_to_real=this.toFixed(e),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(i),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(i),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(i),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;i=this.toFixed(i+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(i)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(i)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var n=this.convertToRealPercent(i),a=this.result.from_percent,r=this.result.to_percent-a,h=r/2,l=n-h,c=n+h;l<0&&(c=(l=0)+r),100<c&&(l=(c=100)-r),this.coords.p_from_real=this.calcWithStep(l),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(c),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,i=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return i<0?i=0:t<i&&(i=t),i},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=t?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),this.coords.w_rs===this.coords.w_rs_old&&!this.force_redraw||(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",this.old_from===this.result.from&&!this.force_redraw||(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),this.old_to===this.result.to&&!this.force_redraw||(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,i,s,o,e,n=this.options.values.length,a=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)t=n?this.decorate(a[this.result.from]):(o=this._prettify(this.result.from),this.decorate(o,this.result.from)),this.$cache.single.html(t),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{s=n?(this.options.decorate_both?(t=this.decorate(a[this.result.from]),t+=this.options.values_separator,t+=this.decorate(a[this.result.to])):t=this.decorate(a[this.result.from]+this.options.values_separator+a[this.result.to]),i=this.decorate(a[this.result.from]),this.decorate(a[this.result.to])):(o=this._prettify(this.result.from),e=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(o,this.result.from),t+=this.options.values_separator,t+=this.decorate(e,this.result.to)):t=this.decorate(o+this.options.values_separator+e,this.result.to),i=this.decorate(o,this.result.from),this.decorate(e,this.result.to)),this.$cache.single.html(t),this.$cache.from.html(i),this.$cache.to.html(s),this.calcLabels();var r=Math.min(this.labels.p_single_left,this.labels.p_from_left),h=this.labels.p_single_left+this.labels.p_single_fake,l=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(h,l);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",l):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(h,l))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),r<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",c>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,i,s,o,e=this.options,n=this.$cache,a="number"==typeof e.from_min&&!isNaN(e.from_min),r="number"==typeof e.from_max&&!isNaN(e.from_max),h="number"==typeof e.to_min&&!isNaN(e.to_min),l="number"==typeof e.to_max&&!isNaN(e.to_max);"single"===e.type?e.from_shadow&&(a||r)?(t=this.convertToPercent(a?e.from_min:e.min),i=this.convertToPercent(r?e.from_max:e.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),i=this.toFixed(i-this.coords.p_handle/100*i),t+=this.coords.p_handle/2,n.shad_single[0].style.display="block",n.shad_single[0].style.left=t+"%",n.shad_single[0].style.width=i+"%"):n.shad_single[0].style.display="none":(e.from_shadow&&(a||r)?(t=this.convertToPercent(a?e.from_min:e.min),i=this.convertToPercent(r?e.from_max:e.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),i=this.toFixed(i-this.coords.p_handle/100*i),t+=this.coords.p_handle/2,n.shad_from[0].style.display="block",n.shad_from[0].style.left=t+"%",n.shad_from[0].style.width=i+"%"):n.shad_from[0].style.display="none",e.to_shadow&&(h||l)?(s=this.convertToPercent(h?e.to_min:e.min),o=this.convertToPercent(l?e.to_max:e.max)-s,s=this.toFixed(s-this.coords.p_handle/100*s),o=this.toFixed(o-this.coords.p_handle/100*o),s+=this.coords.p_handle/2,n.shad_to[0].style.display="block",n.shad_to[0].style.left=s+"%",n.shad_to[0].style.width=o+"%"):n.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,i){var s,o=this.options.max-this.options.min,e=o/100;return o?(s=(i?t:t-this.options.min)/e,this.toFixed(s)):(this.no_diapason=!0,0)},convertToValue:function(t){var i,s,o=this.options.min,e=this.options.max,n=o.toString().split(".")[1],a=e.toString().split(".")[1],r=0,h=0;if(0===t)return this.options.min;if(100===t)return this.options.max;n&&(r=i=n.length),a&&(r=s=a.length),i&&s&&(r=s<=i?i:s),o<0&&(o=+(o+(h=Math.abs(o))).toFixed(r),e=+(e+h).toFixed(r));var l,c=(e-o)/100*t+o,d=this.options.step.toString().split(".")[1];return c=d?+c.toFixed(d.length):(c/=this.options.step,+(c*=this.options.step).toFixed(0)),h&&(c-=h),(l=d?+c.toFixed(d.length):this.toFixed(c))<this.options.min?l=this.options.min:l>this.options.max&&(l=this.options.max),l},calcWithStep:function(t){var i=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<i&&(i=100),100===t&&(i=100),this.toFixed(i)},checkMinInterval:function(t,i,s){var o,e,n=this.options;return n.min_interval?(o=this.convertToValue(t),e=this.convertToValue(i),"from"===s?e-o<n.min_interval&&(o=e-n.min_interval):o-e<n.min_interval&&(o=e+n.min_interval),this.convertToPercent(o)):t},checkMaxInterval:function(t,i,s){var o,e,n=this.options;return n.max_interval?(o=this.convertToValue(t),e=this.convertToValue(i),"from"===s?e-o>n.max_interval&&(o=e-n.max_interval):o-e>n.max_interval&&(o=e+n.max_interval),this.convertToPercent(o)):t},checkDiapason:function(t,i,s){var o=this.convertToValue(t),e=this.options;return"number"!=typeof i&&(i=e.min),"number"!=typeof s&&(s=e.max),o<i&&(o=i),s<o&&(o=s),this.convertToPercent(o)},toFixed:function(t){return+(t=t.toFixed(20))},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,i){return this.options.force_edges&&(t<0?t=0:100-i<t&&(t=100-i)),this.toFixed(t)},validate:function(){var t,i,s=this.options,o=this.result,e=s.values,n=e.length;if("string"==typeof s.min&&(s.min=+s.min),"string"==typeof s.max&&(s.max=+s.max),"string"==typeof s.from&&(s.from=+s.from),"string"==typeof s.to&&(s.to=+s.to),"string"==typeof s.step&&(s.step=+s.step),"string"==typeof s.from_min&&(s.from_min=+s.from_min),"string"==typeof s.from_max&&(s.from_max=+s.from_max),"string"==typeof s.to_min&&(s.to_min=+s.to_min),"string"==typeof s.to_max&&(s.to_max=+s.to_max),"string"==typeof s.grid_num&&(s.grid_num=+s.grid_num),s.max<s.min&&(s.max=s.min),n)for(s.p_values=[],s.min=0,s.max=n-1,s.step=1,s.grid_num=s.max,s.grid_snap=!0,i=0;i<n;i++)t=+e[i],t=isNaN(t)?e[i]:(e[i]=t,this._prettify(t)),s.p_values.push(t);"number"==typeof s.from&&!isNaN(s.from)||(s.from=s.min),"number"==typeof s.to&&!isNaN(s.to)||(s.to=s.max),"single"===s.type?(s.from<s.min&&(s.from=s.min),s.from>s.max&&(s.from=s.max)):(s.from<s.min&&(s.from=s.min),s.from>s.max&&(s.from=s.max),s.to<s.min&&(s.to=s.min),s.to>s.max&&(s.to=s.max),this.update_check.from&&(this.update_check.from!==s.from&&s.from>s.to&&(s.from=s.to),this.update_check.to!==s.to&&s.to<s.from&&(s.to=s.from)),s.from>s.to&&(s.from=s.to),s.to<s.from&&(s.to=s.from)),("number"!=typeof s.step||isNaN(s.step)||!s.step||s.step<0)&&(s.step=1),"number"==typeof s.from_min&&s.from<s.from_min&&(s.from=s.from_min),"number"==typeof s.from_max&&s.from>s.from_max&&(s.from=s.from_max),"number"==typeof s.to_min&&s.to<s.to_min&&(s.to=s.to_min),"number"==typeof s.to_max&&s.from>s.to_max&&(s.to=s.to_max),o&&(o.min!==s.min&&(o.min=s.min),o.max!==s.max&&(o.max=s.max),(o.from<o.min||o.from>o.max)&&(o.from=s.from),(o.to<o.min||o.to>o.max)&&(o.to=s.to)),("number"!=typeof s.min_interval||isNaN(s.min_interval)||!s.min_interval||s.min_interval<0)&&(s.min_interval=0),("number"!=typeof s.max_interval||isNaN(s.max_interval)||!s.max_interval||s.max_interval<0)&&(s.max_interval=0),s.min_interval&&s.min_interval>s.max-s.min&&(s.min_interval=s.max-s.min),s.max_interval&&s.max_interval>s.max-s.min&&(s.max_interval=s.max-s.min)},decorate:function(t,i){var s="",o=this.options;return o.prefix&&(s+=o.prefix),s+=t,o.max_postfix&&(o.values.length&&t===o.p_values[o.max]?(s+=o.max_postfix,o.postfix&&(s+=" ")):i===o.max&&(s+=o.max_postfix,o.postfix&&(s+=" "))),o.postfix&&(s+=o.postfix),s},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,i,s,o,e,n,a=this.options,r=a.max-a.min,h=a.grid_num,l=0,c=4,d="";for(this.calcGridMargin(),a.grid_snap&&(h=r/a.step),50<h&&(h=50),s=this.toFixed(100/h),4<h&&(c=3),7<h&&(c=2),14<h&&(c=1),28<h&&(c=0),t=0;t<h+1;t++){for(o=c,100<(l=this.toFixed(s*t))&&(l=100),e=((this.coords.big[t]=l)-s*(t-1))/(o+1),i=1;i<=o&&0!==l;i++)d+='<span class="irs-grid-pol small" style="left: '+this.toFixed(l-e*i)+'%"></span>';d+='<span class="irs-grid-pol" style="left: '+l+'%"></span>',n=this.convertToValue(l),d+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+l+'%">'+(n=a.values.length?a.p_values[n]:this._prettify(n))+"</span>"}this.coords.big_num=Math.ceil(h+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(d),this.cacheGridLabels()}},cacheGridLabels:function(){var t,i,s=this.coords.big_num;for(i=0;i<s;i++)t=this.$cache.grid.find(".js-grid-text-"+i),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,i,s=[],o=[],e=this.coords.big_num;for(t=0;t<e;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),s[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),o[t]=this.toFixed(s[t]+this.coords.big_p[t]);for(this.options.force_edges&&(s[0]<-this.coords.grid_gap&&(s[0]=-this.coords.grid_gap,o[0]=this.toFixed(s[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),o[e-1]>100+this.coords.grid_gap&&(o[e-1]=100+this.coords.grid_gap,s[e-1]=this.toFixed(o[e-1]-this.coords.big_p[e-1]),this.coords.big_x[e-1]=this.toFixed(this.coords.big_p[e-1]-this.coords.grid_gap))),this.calcGridCollision(2,s,o),this.calcGridCollision(4,s,o),t=0;t<e;t++)i=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(i.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,i,s){var o,e,n,a=this.coords.big_num;for(o=0;o<a&&!(a<=(e=o+t/2));o+=t)n=this.$cache.grid_labels[e][0],s[o]<=i[e]?n.style.visibility="visible":n.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=h.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),h.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},h.fn.ionRangeSlider=function(t){return this.each(function(){h.data(this,"ionRangeSlider")||h.data(this,"ionRangeSlider",new i(this,t,e++))})},function(){for(var n=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!c.requestAnimationFrame;++i)c.requestAnimationFrame=c[t[i]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[t[i]+"CancelAnimationFrame"]||c[t[i]+"CancelRequestAnimationFrame"];c.requestAnimationFrame||(c.requestAnimationFrame=function(t,i){var s=(new Date).getTime(),o=Math.max(0,16-(s-n)),e=c.setTimeout(function(){t(s+o)},o);return n=s+o,e}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),$(function(){function i(){t||(t=!0,utils.unlockBodyScroll(),s.removeClass("_animate"),setTimeout(function(){$("body").removeClass("filters-sidebar-opened"),t=!1},320))}$(document).on("click",".collapsible-filter-block .filters-sidebar-block__title",function(){$(this).toggleClass("_collapsed").next(".filters-sidebar-block__body").stop(!0,!0).slideToggle(300)}),$(".slider-range").each(function(){$(this).ionRangeSlider({type:"double",min:$(this).attr("data-min"),max:$(this).attr("data-max"),hide_from_to:!0,hide_min_max:!0,onChange:function(t){$(".filters-sidebar-price__from").val(t.from).trigger("change"),$(".filters-sidebar-price__to").val(t.to).trigger("change")}})});var t=!1,s=$(".filters-sidebar-modal");$(".open-filters-sidebar").on("click",function(){t||(utils.lockBodyScroll(),$("body").addClass("filters-sidebar-opened"),setTimeout(function(){s.addClass("_animate")},10))}),s.on("click",function(t){t.target===s[0]&&i()}),$(document).on("click",".filters-sidebar-modal__close",i)});