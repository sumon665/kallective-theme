var pageScrollTop,utils=window.utils||{};utils.lockBodyScroll=function(){var e=window.innerWidth-document.documentElement.clientWidth;window.pageYOffset&&(pageScrollTop=window.pageYOffset,$(".site-wrap").css({top:-pageScrollTop})),utils.isBodyScrollLocked=!0,$("body").css({position:"fixed"}),$("body").css("padding-right",e+"px"),$(".header").css("padding-right",e+"px")},utils.unlockBodyScroll=function(){$(" body").css({position:""}),$(".site-wrap").css({top:""}),$("body").css("padding-right",""),$(".header").css("padding-right",""),utils.isBodyScrollLocked&&window.scrollTo(0,pageScrollTop),window.setTimeout(function(){pageScrollTop=null},0),utils.isBodyScrollLocked=!1},utils.closeModal=function(e){utils.unlockBodyScroll(),e.hide(),$.event.trigger({type:"modal.closed",message:e.attr("id")})},utils.openModal=function(e){utils.lockBodyScroll(),e.show(),$.event.trigger({type:"modal.opened",message:e.attr("id")})},utils.disableFormBtn=function(e,t){e.prop("disabled",!0),t&&e.addClass("_loading")},utils.enableFormBtn=function(e){e.prop("disabled",!1).removeClass("_loading")},utils.isBodyScrollLocked=!1,$(function(){function l(e){return""+d+e}function s(e,t,o){var n=$('<div class="mobile-menu-step"/>').attr("data-level",o),i=$('<div class="mobile-menu-step__header"/>'),a=$('<div class="mobile-menu-step__body"/>'),l=t.$content.wrapAll('<ul class="mobile-menu-list" />').parent();return i.html(e),a.html(l),void 0!==t.categoryId&&n.attr("data-category-id",t.categoryId),void 0!==t.parentName&&n.attr("data-parent-name",t.parentName),t.category&&a.prepend('<div class="mobile-menu-step-category">'+t.category+"</div>"),n.append(i,a),n}function e(){a--;var e,t=$(".mobile-menu-step._visible"),o=t.attr("data-parent-name");e=0===a?$('.mobile-menu-step[data-level="0"]'):$('.mobile-menu-step[data-level="'+a+'"][data-parent-name="'+o+'"]'),t.addClass("_right").removeClass("_visible"),e.removeClass("_left").addClass("_visible")}function t(){$(".mobile-menu-step",".mobile-menu-modal").removeClass("_left _visible _right"),$("._highlight",".mobile-menu-modal").removeClass("_highlight");var e=$("a.active",".mobile-menu-modal").closest(".mobile-menu-step"),t=e.attr("data-category-id"),o=e.attr("data-parent-name");a=+e.attr("data-level"),e.addClass("_visible"),2===a?($('.mobile-menu-step[data-level="2"]:first').prevAll().addClass("_left"),$('.mobile-menu-step[data-level="2"]').addClass("_right"),$('.mobile-menu-step:not([data-parent-name="'+o+'"])').addClass("_right")):(e.prevAll().addClass("_left"),e.nextAll().addClass("_right"),$('.mobile-menu-step:not([data-parent-name="'+o+'"]):not([data-level="0"])').addClass("_right").removeClass("_left")),void 0!==t&&$('[data-category-id="'+t+'"]',".mobile-menu-modal").addClass("_highlight"),0!==a&&$('[data-level="0"]').find('._has-submenu a[data-parent-name="'+e.attr("data-parent-name")+'"]',".mobile-menu-modal").addClass("_highlight")}function o(){c||(c=!0,utils.unlockBodyScroll(),r.removeClass("_animate"),setTimeout(function(){$("body").removeClass("mobile-menu-opened"),c=!1,t()},320))}var n=$(".menu-modal"),i=$(".menu-modal-content");$(".menu-toggle").on("mouseenter",function(){window.innerWidth>=DESKTOP_MIN_WIDTH&&(n.addClass("_visible-menu"),$(this).addClass("_highlight"))}).on("mouseleave",function(e){window.innerWidth>=DESKTOP_MIN_WIDTH&&((e.relatedTarget||e.toElement)!==n[0]&&(n.removeClass("_visible-menu"),$(this).removeClass("_highlight")))}),i.on("mouseleave",function(){window.innerWidth>=DESKTOP_MIN_WIDTH&&(n.removeClass("_visible-menu"),$(".menu-toggle").removeClass("_highlight"))});var a=0,d=0;!function(){var e=$('<div class="mobile-menu-modal hidden-desktop"/>'),t=$('<div class="mobile-menu"/>'),o=$('<div class="mobile-menu-wrap"/>'),n=$('<span class="mobile-menu-modal__close"/>'),i=$(".header-btm-left-menu").clone();i.find(".hidden-desktop").first().addClass("_divider"),i.children("li").each(function(){var e=$(this).children("a");e.attr("data-parent-name",e.text());var t=$(this).children(".sub-menu");t.length&&t.remove()}),o.append(s('<a href="/" class="mobile-menu-logo" />',{$content:i.children()},0));var a="";$(".menu-category__title").each(function(e){a+='<li><span class="_has-submenu" data-category-id="'+l(e)+'" data-parent-name="Shop">'+$(this).text()+"</span></li>"}),o.append(s('<span class="mobile-menu-step-back">Main menu</span>',{category:"Shop",parentName:"Shop",$content:$(a)},1)),$(".menu-category:not(._special)").each(function(e){o.append(s('<span class="mobile-menu-step-back">Shop</span>',{category:$(this).find(".menu-category__title").text(),$content:$(this).find(".menu-list").children().not(":last").clone(),categoryId:l(e),parentName:"Shop"},2))}),d++,$(".menu-item-has-children").each(function(){o.append(s('<span class="mobile-menu-step-back">Main menu</span>',{category:$(this).children("a").text(),$content:$(this).find(".sub-menu").children().clone(),parentName:$(this).children("a").text()},1)),d++}),n.html('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 6L6 18" stroke="#1D3557" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 6L18 18" stroke="#1D3557" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg> '),o.append(n),e.append(t.append(o)),$("body").append(e)}(),$(document).on("click","._has-submenu",function(e){if(!(window.innerWidth>=DESKTOP_MIN_WIDTH)){e.preventDefault();var t=$(this);$(this).is("li")&&(t=$(this).children("a")),function(e){a++;var t,o=$(".mobile-menu-step._visible"),n=e.attr("data-parent-name"),i=e.attr("data-category-id");t=void 0!==i?$('.mobile-menu-step[data-category-id="'+i+'"][data-parent-name="'+n+'"]'):$('.mobile-menu-step[data-parent-name="'+n+'"]:not([data-category-id])'),o.addClass("_left").removeClass("_visible"),t.removeClass("_right").addClass("_visible")}(t)}}),$(document).on("click",".mobile-menu-step-back",e),t();var c=!1,r=$(".mobile-menu-modal");$(".header-btm-left-menu-toggle").on("click",function(){c||(utils.lockBodyScroll(),$("body").addClass("mobile-menu-opened"),setTimeout(function(){r.addClass("_animate")},10))}),r.on("click",function(e){e.target===r[0]&&o()}),$(document).on("click",".mobile-menu-modal__close",o)});var DESKTOP_MIN_WIDTH=1232,TABLET_MIN_WIDTH=768,actionsMap={add_review:"add_review"};$.fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",function(){e(this.value)?(this.oldValue=this.value.replace(/^0+/,""),this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd,this.value=this.value.replace(/^0+/,"")):this.hasOwnProperty("oldValue")?(this.value=this.oldValue.replace(/^0+/,""),this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})},$(function(){function t(){n||(n=!0,utils.unlockBodyScroll(),i.removeClass("_animate"),setTimeout(function(){$("body").removeClass("cart-panel-opened "+(a?"cart-sidebar-check-cart-view":"")),a=n=!1},320))}function o(){e.hasClass("_visible")&&(utils.unlockBodyScroll(),e.removeClass("_visible"))}$(".footer-top-menu-col__title").on("click",function(){if(!(window.innerWidth>DESKTOP_MIN_WIDTH)){var e=!1;if($(this).hasClass("_opened")&&(e=!0),$(".footer-top-menu-col__title").removeClass("_opened"),$(".footer-top-menu").removeAttr("style"),!e){$(this).addClass("_opened");var t=$(this).next(".footer-top-menu"),o=t.find("li"),n=0;o.each(function(){n+=$(this).outerHeight(!0)}),t.css("height",n)}}});var n=!1,i=$(".cart-panel-modal"),a=!1;$(".open-cart-panel").on("click",function(e){var t;e.preventDefault(),t=$(e.target).attr("data-check-cart-view"),a=t,n||(utils.lockBodyScroll(),$("body").addClass("cart-panel-opened "+(a?"cart-sidebar-check-cart-view":"")),setTimeout(function(){i.addClass("_animate")},10))}),i.on("click",function(e){e.target===i[0]&&t()}),$(document).on("click",".cart-panel-modal__close",t),$(document).on("click",".cart-panel-empty__link",function(e){"/"===document.location.pathname&&e.preventDefault(),t()}),$(".control-number input").inputFilter(function(e){return/^\d*$/.test(e)}),$(document).on("click",".control-number__btn",function(){var e=$(this).parent().find("input");$(this).hasClass("_inc")?e.val(parseInt(e.val())+1).trigger("change"):1<e.val()&&e.val(parseInt(e.val())-1).trigger("change")}),$(".open-modal").on("click",function(){utils.openModal($($(this).attr("data-modal")))}),$(".close-modal").on("click",function(){utils.closeModal($(this).closest(".modal"))});var e=$(".favorites-popover");$(".open-favorites-popover").on("click",function(){window.innerWidth<TABLET_MIN_WIDTH?utils.lockBodyScroll():utils.unlockBodyScroll(),e.toggleClass("_visible")}),$(document).on("click",".close-favorites-popover",o),$(document).on("click",function(e){$(e.target).closest($(".favorites-popover-menu-item")).length||o()}),$loginModalTitle=$("#login-modal-title"),$(".login-form__link").on("click",function(){var e=$(this).attr("data-form"),t=$('.login-form[data-form="'+e+'"]');$(".login-form").hide(),$loginModalTitle.text(t.attr("data-title")),t.show()}),$('.login-form__link[data-form="signin"]').trigger("click"),$(document).on("modal.closed",function(e){"login-modal"===e.message&&$('.login-form__link[data-form="signin"]').trigger("click")}),$(document).on("click","#login-modal",function(e){e.target===$(this)[0]&&utils.closeModal($(this))}),$(".accordion-item").on("click",function(){$(this).toggleClass("_opened").find(".accordion-item__body").stop(!0,!0).slideToggle()});var l=$(".header"),s=$(".header-top-section"),d=$(".menu-modal");$(window).on("load resize scroll",function(){if(!utils.isBodyScrollLocked){var e=$(window).scrollTop(),t=s.outerHeight(!0);0<e?t<e?(l.css("margin-top",-t),d.css("margin-top",-t)):(l.css("margin-top",-e),d.css("margin-top",-e)):0===e&&(l.css("margin-top",0),d.css("margin-top",0))}})}),$(function(){function o(){i.removeClass("_opened"),a.removeAttr("style")}function e(){window.innerWidth<TABLET_MIN_WIDTH&&s.hasClass("_search-opened")?s.find(".goods-search__inner").css("width",$(".goods-filters").outerWidth()):s.find(".goods-search__inner").removeAttr("style")}function t(){$(".goods-sort-by__dd").removeClass("_opened")}function n(){return d=c.slick(r)}var i=$(".goods-filters-categories"),a=i.find(".goods-filters-categories__list"),l=i.find(".goods-filters-categories__toggle");l.on("click",function(){if(!(window.innerWidth>DESKTOP_MIN_WIDTH))if(i.hasClass("_opened"))o();else{i.addClass("_opened");var e=a.find("li"),t=0;e.each(function(){t+=$(this).outerHeight(!0)}),a.css("height",t)}}),a.find("a").on("click",function(e){e.preventDefault(),o(),$(this).hasClass("active")||(a.find(".active").removeClass("active"),$(this).addClass("active"),l.text($(this).text()))}),$(document).on("click",function(e){$(e.target).closest(i).length||o()});var s=$(".goods-search");$(document).on("click",".goods-search__open",function(){s.addClass("_search-opened"),e()}),$(document).on("click",".goods-search__close",function(){s.removeClass("_search-opened"),e()}),$(window).on("load resize",e),$(document).on("click",function(e){$(e.target).closest(s).length||$(".goods-search__suggest").hide()}),$(document).on("input",".goods-search__input input",function(e){e.target.value&&""!==e.target.value.trim()?s.addClass("_search-has-value"):s.removeClass("_search-has-value")}),$(document).on("click",".goods-search__clear",function(){$(".goods-search__input input").val("").focus().trigger("input")}),$(document).on("click",".goods-sort-by__btn",function(){$(".goods-sort-by__dd").toggleClass("_opened")}),$(document).on("click",".goods-sort-by__dd-header .modal-header__close, .goods-sort-by__dd-overlay",t),$(document).on("click",function(e){window.innerWidth<TABLET_MIN_WIDTH||($(e.target).closest($(".goods-sort-by")).length||t())});var d,c=$(".special-tiles-slider");if(c.length){var r={arrows:!1,infinite:!1,adaptiveHeight:!0,mobileFirst:!0,responsive:[{breakpoint:1231,settings:"unslick"}]};d=n(),$(window).on("resize",function(){window.innerWidth<DESKTOP_MIN_WIDTH&&!d.hasClass("slick-initialized")&&n()})}});